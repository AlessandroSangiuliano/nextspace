#
###############################################################################
# General
###############################################################################
#
Section "Files"
	ModulePath   "/usr/local/lib/xorg/modules"
	FontPath     "/Library/Fonts/X"
	FontPath     "/Library/Fonts/TrueType"
	FontPath     "/usr/local/lib/X11/fonts/Liberation"
	FontPath     "/usr/local/lib/X11/fonts/misc/"
	FontPath     "/usr/local/lib/X11/fonts/TTF/"
	FontPath     "/usr/local/lib/X11/fonts/OTF"
	FontPath     "/usr/local/lib/X11/fonts/Type1/"
	FontPath     "/usr/local/lib/X11/fonts/100dpi/"
	FontPath     "/usr/local/lib/X11/fonts/75dpi/"
EndSection

Section "Module"
	Load     "dbe"
	Load     "dri"
	Load     "dri2"
	Load     "extmod"
	Load     "glx"
	Disable  "record"
EndSection

Section "InputDevice"
	Identifier  "SystemKeyboard"
	Driver      "kbd"
EndSection

Section "InputDevice"
	Identifier  "SystemMouse"
	Driver      "mouse"
	Option      "Protocol" "auto"
	Option      "Device" "/dev/sysmouse"
	Option      "ZAxisMapping" "4 5 6 7"
EndSection

Section "Monitor"
        Identifier   "SystemMonitor"
EndSection

Section "ServerFlags"
        Option      "DontVTSwitch"
#	Option      "AIGLX" "False"
EndSection

#
###############################################################################
# VirtualBox
###############################################################################
#
Section "ServerLayout"
	Identifier     "VBox"
	Screen      0  "VBoxScreen" 0 0
	InputDevice    "VBoxMouse" "CorePointer"
	InputDevice    "SystemKeyboard" "CoreKeyboard" # in "General" section
	Option         "AutoAddDevices" "True"
EndSection

Section "InputDevice"
	Identifier  "VBoxMouse"
	Driver      "vboxmouse"
#	Option	    "Protocol" "auto"
#	Option	    "Device" "/dev/psm0"
#	Option	    "ZAxisMapping" "4 5 6 7"
EndSection

Section "Screen"
	Identifier "VBoxScreen"
	Device     "VBoxCard"
	Monitor    "VBoxMonitor"
	DefaultDepth 24
	SubSection "Display"
		Viewport   0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     24
		Modes     "1024x768"
	EndSubSection
EndSection

Section "Device"
	Identifier  "VBoxCard"
	VendorName  "InnoTek Systemberatung GmbH"
	BoardName   "VirtualBox Graphics Adapter"
	Driver      "vboxvideo"
	BusID       "PCI:0:2:0"
EndSection

Section "Monitor"
        Identifier   "VBoxMonitor"
        HorizSync    30-120
        VertRefresh  50-100
EndSection

#
###############################################################################
# VMware
###############################################################################
#
Section "ServerLayout"
	Identifier     "VMware"
	Screen      0  "VMwareScreen" 0 0
	InputDevice    "SystemMouse" "CorePointer"
	InputDevice    "SystemKeyboard" "CoreKeyboard"
	Option         "AutoAddDevices" "False"
EndSection

Section "Device"
	Identifier  "VMwareCard"
	Driver      "vmvare"
EndSection

Section "Screen"
	Identifier   "VMwareScreen"
	Device       "VMwareCard"
	Monitor      "SystemMonitor" # in "General" section
	DefaultDepth 24
	SubSection "Display"
		Viewport  0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport  0 0
		Depth     24
		Modes     "1024x768"
	EndSubSection
EndSection

#
###############################################################################
# Intel graphics card
###############################################################################
#
Section "ServerLayout"
	Identifier     "Intel"
	Screen      0  "IntelScreen" 0 0
	InputDevice    "SystemMouse" "CorePointer" # in "General" section
	InputDevice    "SystemKeyboard" "CoreKeyboard" # in "General" section
#	Option         "AutoAddDevices" "False"
EndSection

Section "Screen"
	Identifier   "IntelScreen"
	Device       "IntelCard"
	Monitor      "SystemMonitor" # in "General" section
	DefaultDepth 24
	SubSection "Display"
		Viewport  0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport  0 0
		Depth     24
		Modes     "1440x900" "1280x1024" "1024x768"
	EndSubSection
EndSection

Section "Device"
        Identifier  "IntelCard"
        Driver      "intel"
        VendorName  "Intel Corporation"
	BoardName   "Mobile GM965/GL960 Integrated Graphics Controller"
        BusID       "PCI:0:2:0"
#        Option      "SWcursor" "false"
#        Option      "DRI" "false"
#        Option      "AccelMethod" "GEM"
#        Option      "PageFlip" "false"
EndSection

#
###############################################################################
# VESA - failover ot it if we don't know graphics card installed
###############################################################################
#
Section "ServerLayout"
	Identifier     "VESA"
	Screen      0  "VESAScreen" 0 0
	InputDevice    "SystemMouse" "CorePointer" # in "General" section
	InputDevice    "SystemKeyboard" "CoreKeyboard" # in "General" section
EndSection


Section "Device"
        Identifier  "VESACard"
        VendorName  "Unknown Vendor"
        BoardName   "Unknown Board"
        Driver      "vesa"
EndSection

Section "Screen"
	Identifier   "VESAScreen"
	Device       "VESACard"
	Monitor      "SystemMonitor" # in "General" section
	DefaultDepth 24
	SubSection "Display"
		Viewport  0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport  0 0
		Depth     24
		Modes     "1024x768"
	EndSubSection
EndSection
